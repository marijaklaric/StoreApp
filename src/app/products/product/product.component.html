<div class="container" *ngIf="form && isEditMode">
  <i class="fa fa-chevron-left" aria-hidden="true" (click)="onBack()"></i>
  <div class="row">
    <form [formGroup]="form">
      <div class="row">
        <div class="col-md-4 mb-3" style="display: flex; align-items: center; justify-content: center;">
          <img [src]="product.image" class="img-fluid mb-3" style="object-fit: contain; width: 75%;">
        </div>
        <div class="col-md-8">
          <input type="hidden" class="form-control" formControlName="id">
          <div class="form-group mb-3">
            <label>Title:</label>
            <input type="text" class="form-control" formControlName="title">
          </div>
          <div class="row">
            <div class="form-group mb-3 col-md-6">
              <label for="price">Price:</label>
              <input type="text" class="form-control" formControlName="price">
            </div>
            <div class="form-group mb-3 col-md-6">
              <label>Category:</label>
              <select class="form-control" formControlName="category">
                <option *ngFor="let category of categories" [ngValue]="category">
                  {{ category }}
                </option>
              </select>
            </div>
          </div>
          <div class="form-group mb-3">
            <label>Description:</label>
            <textarea type="text" class="form-control" formControlName="description" rows="5"></textarea>
          </div>
          <div class="row">
            <div class="form-group mb-3 col-md-6">
              <label>Rate:</label>
              <input type="text" class="form-control" formControlName="rate">
            </div>
            <div class="form-group mb-3 col-md-6">
              <label>Count:</label>
              <input type="text" class="form-control" formControlName="count">
            </div>
          </div>
          <div class="row">
            <div class="col-md-6" *ngIf="form.disabled">
              <button class="btn btn-primary col-md-6" (click)="toggleEditMode();"
                style="text-transform: uppercase; width: 100%;">Edit</button>
            </div>
            <div class="col-md-6" *ngIf="form.disabled">
              <button class="btn btn-primary" (click)="openConfirmationDialog();"
                style="text-transform: uppercase; width: 100%;">
                Delete</button>
            </div>
            <button class="btn btn-primary" (click)="onSubmit(form); toggleEditMode();"
              style="text-transform: uppercase; width: 100%;" *ngIf="form.enabled">Save</button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>

<div class="container" *ngIf="!isEditMode">
  <i class="fa fa-chevron-left" aria-hidden="true" (click)="onBack()"></i>
  <div class="row" *ngIf="form">
    <form [formGroup]="form">
      <div class="row">
        <div class="col-md-4 mb-3" style="display: block; align-items: center; justify-content: center;">
          <div class="row" style="justify-content: center;">
            <img [src]="product.image ? product.image :'http://cdn.onlinewebfonts.com/svg/img_212915.png'"
              class="img-fluid mb-3" style="object-fit: contain; width: 75%; height: auto;">
          </div>
          <div class="col-md-12 mt-3" style="justify-content: center;">
            <input formControlName="image" id="image" type="file" class="form-control" (change)="onFileChange($event)">
          </div>
        </div>
        <div class="col-md-8">
          <div class="form-group mb-3">
            <label>Title:</label>
            <input type="text" class="form-control" formControlName="title">
          </div>
          <div class="row">
            <div class="form-group mb-3 col-md-6">
              <label for="price">Price:</label>
              <input type="text" class="form-control" formControlName="price">
            </div>
            <div class="form-group mb-3 col-md-6">
              <label>Category:</label>
              <select class="form-control" formControlName="category">
                <option *ngFor="let category of categories" [ngValue]="category">
                  {{ category }}
                </option>
              </select>
            </div>
          </div>
          <div class="form-group mb-3">
            <label>Description:</label>
            <textarea type="text" class="form-control" formControlName="description" rows="5"></textarea>
          </div>
          <div class="row">
            <div class="form-group mb-3 col-md-6">
              <label>Rate:</label>
              <input type="text" class="form-control" formControlName="rate">
            </div>
            <div class="form-group mb-3 col-md-6">
              <label>Count:</label>
              <input type="text" class="form-control" formControlName="count">
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <button class="btn btn-primary mb-3" (click)="onSubmit(form);"
                style="text-transform: uppercase; width: 100%;">Save</button>
            </div>
            <div class="col-md-6">
              <button class="btn btn-primary mb-3" (click)="onBack();"
                style="text-transform: uppercase; width: 100%;">Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
